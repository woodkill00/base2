# ============================================
# ENV Configuration
# ============================================


# Docker Compose Environment Variables
# Copy this file to .env and customize the values as needed
# Each variable below is REQUIRED unless otherwise noted. See README.md for details.

PROJECT_NAME=base2                # Project name for deployment and scripts
WEBSITE_DOMAIN=woodkilldev.com    # Website domain for public access
DEPLOY_PATH=/opt/apps/            # Path to deploy app on droplet

# ============================================
# React App Configuration
# ============================================
REACT_APP_NODE_VERSION=18-alpine   # Node.js version for React app container
REACT_APP_PORT=3000                # Internal container port for React app
REACT_APP_HOST_PORT=3000           # Host port for React app
REACT_APP_API_URL=http://localhost:5001 # Backend API endpoint for React app

# ============================================
# Nginx Configuration
# ============================================
NGINX_VERSION=1.25-alpine          # Nginx container version
NGINX_PORT=80                      # Internal container port for Nginx
NGINX_HOST_PORT=8080               # Host port for Nginx
NGINX_WORKER_PROCESSES=auto        # Number of worker processes
NGINX_WORKER_CONNECTIONS=1024      # Max connections per worker

# ============================================
# PostgreSQL Configuration
# ============================================
POSTGRES_VERSION=16-alpine         # PostgreSQL container version
POSTGRES_USER=myuser               # Database username
POSTGRES_PASSWORD=mypassword       # Database password (change in production!)
POSTGRES_DB=mydatabase             # Database name
POSTGRES_PORT=5432                 # Internal container port for PostgreSQL
POSTGRES_HOST_PORT=5432            # Host port for PostgreSQL
DB_HOST=postgres                   # Hostname for backend to connect to PostgreSQL container
DB_USER=myuser                     # Username for backend to connect to PostgreSQL
DB_PASS=mypassword                 # Password for backend to connect to PostgreSQL

# ============================================
# pgAdmin Configuration
# ============================================
PGADMIN_VERSION=latest             # pgAdmin container version
PGADMIN_DEFAULT_EMAIL=admin@admin.com # Default admin email for pgAdmin
PGADMIN_DEFAULT_PASSWORD=admin     # Default admin password (change in production!)
PGADMIN_PORT=80                    # Internal container port for pgAdmin
PGADMIN_HOST_PORT=5050             # Host port for pgAdmin
PGADMIN_CONFIG_SERVER_MODE=False   # pgAdmin server mode (True/False)

# ============================================
# Network Configuration
# ============================================
COMPOSE_PROJECT_NAME=base2         # Docker Compose project name
NETWORK_NAME=base2_network         # Docker network name (must match TRAEFIK_DOCKER_NETWORK)

# ============================================
# Traefik Configuration
# ============================================
TRAEFIK_VERSION=v3.0               # Traefik container version
TRAEFIK_PORT=80                    # Internal container port for Traefik
TRAEFIK_HOST_PORT=8081             # Host port for Traefik web
TRAEFIK_API_PORT=8082              # Port for Traefik API/Dashboard
TRAEFIK_API_ENTRYPOINT=traefik     # API entrypoint name (must match traefik.yml)
TRAEFIK_LOG_LEVEL=INFO             # Traefik log verbosity

TRAEFIK_DOCKER_NETWORK=base2_network # Docker network for Traefik (must match NETWORK_NAME)
TRAEFIK_WEBSITE_DOMAIN=woodkilldev.com # Website domain for Traefik routing
TRAEFIK_CERT_EMAIL=thejunkmailvoid@gmail.com # Email for Let's Encrypt/Traefik certs
TRAEFIK_USER=testuser:$2y$05$KizJao5OhD1.C9XsGR7dOeJa6706qKMT1rpbJ/PX1UB2aSauAVBdO # Traefik dashboard user (username:hashed_password)
TRAEFIK_EXPOSED_BY_DEFAULT=false   # Auto-expose containers (true/false)

# ============================================
# Backend API Configuration
# ============================================
BACKEND_NODE_VERSION=18-alpine     # Node.js version for backend API
BACKEND_PORT=5001                  # Internal container port for backend API
BACKEND_HOST_PORT=5001             # Host port for backend API
NODE_ENV=development               # Node environment (development/production)

# JWT Configuration (CHANGE IN PRODUCTION!)
JWT_SECRET=your_super_secret_jwt_key_change_this_in_production_make_it_very_long_and_random # JWT secret key
JWT_EXPIRE=7d                      # JWT token expiration

# Email Configuration (Gmail example - see backend README for setup)
EMAIL_HOST=smtp.gmail.com          # SMTP host for email
EMAIL_PORT=587                     # SMTP port for email
EMAIL_USER=your_email@gmail.com    # Email username
EMAIL_PASSWORD=your_gmail_app_password # Email password or app password
EMAIL_FROM=noreply@base2.com       # Default sender address
 
# ============================================
# Digital Ocean Configuration
# ============================================
# Reference: https://docs.digitalocean.com/reference/api/api-reference/
# See digital_ocean/README.md and quickstart.md for onboarding and usage details.
# WARNING: Never commit real secrets to version control!

# === Git Repo to pull from ===
DO_GIT_REPO=https://github.com/youruser/yourrepo.git   # Git repo to deploy from (App Platform)

# === Core Authentication ===
DO_API_TOKEN=your_token_here         # REQUIRED. Personal access token from Digital Ocean dashboard.

# === Resource Defaults ===
DO_API_REGION=nyc3                   # REQUIRED. Default region for resources (e.g., nyc3, sfo2)
DO_API_IMAGE=docker-20-04            # REQUIRED. Default image slug for Droplets/Apps
DO_API_SIZE=s-1vcpu-2gb              # REQUIRED. Default size slug for Droplets
DO_SSH_KEY_ID=                       # OPTIONAL. SSH key ID or fingerprint for Droplets
DO_API_SSH_KEYS=                     # OPTIONAL. Comma-separated list of SSH key IDs for Droplets
DO_APP_NAME=base2-app                # REQUIRED. Name for deployed app
DO_REGISTRY_NAME=base2-registry      # OPTIONAL. Name of container registry
DO_APP_SPEC_PATH=digital_ocean/app_spec.yaml # OPTIONAL. Path to app spec JSON/YAML for Apps API
DO_BACKUPS_ENABLED=false             # OPTIONAL. Enable backups for Droplets (true/false)
DO_IPV6_ENABLED=true                 # OPTIONAL. Enable IPv6 for Droplets (true/false)
DO_USER_DATA_PATH=                   # OPTIONAL. Path to cloud-init/user-data script (for Droplets)

# === Droplets API ===
DO_DROPLET_NAME=base2-droplet        # OPTIONAL. Droplet name
DO_DROPLET_SIZE=s-1vcpu-1gb          # OPTIONAL. Droplet size slug
DO_DROPLET_IMAGE=docker-20-04        # OPTIONAL. Droplet image slug
DO_DROPLET_COUNT=1                   # OPTIONAL. Number of Droplets to create
DO_DROPLET_PRIVATE_NETWORKING=true   # OPTIONAL. Enable private networking (true/false)
DO_DROPLET_VOLUME_ID=                # OPTIONAL. Block storage volume ID to attach

# === Container Registry ===
DO_REPOSITORY_NAME=                  # OPTIONAL. Repository name in registry
DO_IMAGE_TAG=latest                  # OPTIONAL. Docker image tag

# === Spaces (S3-Compatible Storage) ===
DO_SPACES_KEY=                       # OPTIONAL. Spaces access key
DO_SPACES_SECRET=                    # OPTIONAL. Spaces secret key
DO_SPACES_REGION=nyc3                # OPTIONAL. Region for Spaces

# === OAuth (Advanced Integrations) ===
DO_OAUTH_CLIENT_ID=                  # OPTIONAL. OAuth client ID
DO_OAUTH_CLIENT_SECRET=              # OPTIONAL. OAuth client secret

# === Script/Operation Settings ===
DO_DEPLOY_TIMEOUT=300                # OPTIONAL. Timeout for deployment operations (seconds)
DO_TEARDOWN_TIMEOUT=120              # OPTIONAL. Timeout for teardown operations (seconds)
DO_LOG_LEVEL=INFO                    # OPTIONAL. Logging verbosity (INFO, DEBUG, ERROR)
DO_API_RETRY_LIMIT=3                 # OPTIONAL. Max retries for API rate limits/errors
DO_API_RETRY_DELAY=5                 # OPTIONAL. Delay between retries (seconds)
DO_APP_ENV_EXAMPLE=VALUE             # OPTIONAL. Example custom app environment variable

# === Advanced/Production Variables ===
DO_PROJECT_ID=                       # OPTIONAL. Digital Ocean project ID
DO_FIREWALL_ID=                      # OPTIONAL. Firewall ID to attach to Droplets/Apps
DO_VPC_UUID=                         # OPTIONAL. VPC UUID for custom networking
DO_TAGS=base2,automation             # OPTIONAL. Comma-separated tags for resource organization
DO_MONITORING_ENABLED=true            # OPTIONAL. Enable Digital Ocean monitoring (true/false)
DO_ALERT_EMAIL=                      # OPTIONAL. Email for alerts/notifications
DO_APP_DOMAIN=                       # OPTIONAL. Custom domain for deployed app
DO_APP_BRANCH=main                   # OPTIONAL. Git branch/tag for deployments
DO_APP_REPO_URL=                     # OPTIONAL. Source repo URL
DO_APP_AUTOSCALE=false               # OPTIONAL. Enable autoscaling for Apps (true/false)
DO_APP_MIN_INSTANCES=1               # OPTIONAL. Autoscale minimum instances
DO_APP_MAX_INSTANCES=3               # OPTIONAL. Autoscale maximum instances
DO_API_TIMEOUT=60                    # OPTIONAL. Global API timeout (seconds)
DO_API_BASE_URL=https://api.digitalocean.com/v2 # OPTIONAL. Override API base URL

# === Health Checks & Observability ===
DO_APP_HEALTHCHECK_PATH=/health      # OPTIONAL. Healthcheck endpoint for Apps
DO_APP_HEALTHCHECK_INTERVAL=30       # OPTIONAL. Healthcheck interval (seconds)
DO_APP_HEALTHCHECK_TIMEOUT=10        # OPTIONAL. Healthcheck timeout (seconds)
DO_APP_HEALTHCHECK_THRESHOLD=3       # OPTIONAL. Failure threshold before alert/rollback

# Frontend URL for email verification links
FRONTEND_URL=http://localhost:3000 # Frontend URL for verification links

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
